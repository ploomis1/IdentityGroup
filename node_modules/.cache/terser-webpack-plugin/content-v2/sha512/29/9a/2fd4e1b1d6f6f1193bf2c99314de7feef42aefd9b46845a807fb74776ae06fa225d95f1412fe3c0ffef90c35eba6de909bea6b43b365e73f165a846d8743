{"map":"{\"version\":3,\"sources\":[\"/Users/bigdaddy/Desktop/mern-stack-authentication/src/App.js\",\"/Users/bigdaddy/Desktop/mern-stack-authentication/src/registerServiceWorker.js\",\"/Users/bigdaddy/Desktop/mern-stack-authentication/src/components/Login.js\",\"/Users/bigdaddy/Desktop/mern-stack-authentication/src/components/Register.js\",\"/Users/bigdaddy/Desktop/mern-stack-authentication/src/index.js\"],\"names\":[\"App\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"logout\",\"localStorage\",\"removeItem\",\"window\",\"location\",\"reload\",\"state\",\"books\",\"_this2\",\"axios\",\"defaults\",\"headers\",\"common\",\"getItem\",\"get\",\"then\",\"res\",\"setState\",\"data\",\"console\",\"log\",\"catch\",\"error\",\"response\",\"status\",\"history\",\"push\",\"react_default\",\"a\",\"createElement\",\"class\",\"onClick\",\"map\",\"book\",\"es\",\"to\",\"concat\",\"_id\",\"isbn\",\"title\",\"author\",\"Component\",\"isLocalhost\",\"Boolean\",\"hostname\",\"match\",\"registerValidSW\",\"swUrl\",\"navigator\",\"serviceWorker\",\"register\",\"registration\",\"onupdatefound\",\"installingWorker\",\"installing\",\"onstatechange\",\"controller\",\"Login\",\"onChange\",\"e\",\"target\",\"name\",\"value\",\"onSubmit\",\"preventDefault\",\"_this$state\",\"username\",\"password\",\"post\",\"result\",\"setItem\",\"token\",\"message\",\"_this$state2\",\"role\",\"for\",\"type\",\"placeholder\",\"required\",\"aria-hidden\",\"Create\",\"ReactDOM\",\"render\",\"exact\",\"path\",\"component\",\"Register\",\"document\",\"getElementById\",\"URL\",\"process\",\"origin\",\"addEventListener\",\"fetch\",\"indexOf\",\"ready\",\"unregister\",\"checkValidServiceWorker\",\"event\",\"request\",\"url\",\"registerServiceWorker\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { Component } from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { Link } from 'react-router-dom';\\nimport axios from 'axios';\\n\\nclass App extends Component {\\n\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      books: []\\n    };\\n  }\\n\\n  componentDidMount() {\\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\\n    axios.get('/api/book')\\n      .then(res => {\\n        this.setState({ books: res.data });\\n        console.log(this.state.books);\\n      })\\n      .catch((error) => {\\n        if(error.response.status === 401) {\\n          this.props.history.push(\\\"/login\\\");\\n        }\\n      });\\n  }\\n\\n  logout = () => {\\n    localStorage.removeItem('jwtToken');\\n    window.location.reload();\\n  }\\n\\n  render() {\\n    return (\\n      <div class=\\\"container\\\">\\n        <div class=\\\"panel panel-default\\\">\\n          <div class=\\\"panel-heading\\\">\\n            <h3 class=\\\"panel-title\\\">\\n              BOOK CATALOG &nbsp;\\n              {localStorage.getItem('jwtToken') &&\\n                <button class=\\\"btn btn-primary\\\" onClick={this.logout}>Logout</button>\\n              }\\n            </h3>\\n          </div>\\n          <div class=\\\"panel-body\\\">\\n            <table class=\\\"table table-stripe\\\">\\n              <thead>\\n                <tr>\\n                  <th>ISBN</th>\\n                  <th>Title</th>\\n                  <th>Author</th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                {this.state.books.map(book =>\\n                  <tr>\\n                    <td><Link to={`/show/${book._id}`}>{book.isbn}</Link></td>\\n                    <td>{book.title}</td>\\n                    <td>{book.author}</td>\\n                  </tr>\\n                )}\\n              </tbody>\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"// In production, we register a service worker to serve assets from local cache.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on the \\\"N+1\\\" visit to a page, since previously\\n// cached resources are updated in the background.\\n\\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\\n// This link also includes instructions on opting out of this behavior.\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport default function register() {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Lets check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\\n          );\\n        });\\n      } else {\\n        // Is not local host. Just register service worker\\n        registerValidSW(swUrl);\\n      }\\n    });\\n\\n    window.addEventListener('fetch', (event) => {\\n      if ( event.request.url.match( '^.*(\\\\/api\\\\/).*$' ) ) {\\n        return false;\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the old content will have been purged and\\n              // the fresh content will have been added to the cache.\\n              // It's the perfect time to display a \\\"New content is\\n              // available; please refresh.\\\" message in your web app.\\n              console.log('New content is available; please refresh.');\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      if (\\n        response.status === 404 ||\\n        response.headers.get('content-type').indexOf('javascript') === -1\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React, { Component } from 'react';\\nimport ReactDOM from 'react-dom';\\nimport axios from 'axios';\\nimport { Link } from 'react-router-dom';\\nimport './Login.css';\\n\\nclass Login extends Component {\\n\\n  constructor() {\\n    super();\\n    this.state = {\\n      username: '',\\n      password: '',\\n      message: ''\\n    };\\n  }\\n  onChange = (e) => {\\n    const state = this.state\\n    state[e.target.name] = e.target.value;\\n    this.setState(state);\\n  }\\n\\n  onSubmit = (e) => {\\n    e.preventDefault();\\n\\n    const { username, password } = this.state;\\n\\n    axios.post('/api/auth/login', { username, password })\\n      .then((result) => {\\n        localStorage.setItem('jwtToken', result.data.token);\\n        this.setState({ message: '' });\\n        this.props.history.push('/')\\n      })\\n      .catch((error) => {\\n        if(error.response.status === 401) {\\n          this.setState({ message: 'Login failed. Username or password not match' });\\n        }\\n      });\\n  }\\n\\n  render() {\\n    const { username, password, message } = this.state;\\n    return (\\n      <div class=\\\"container\\\">\\n        <form class=\\\"form-signin\\\" onSubmit={this.onSubmit}>\\n          {message !== '' &&\\n            <div class=\\\"alert alert-warning alert-dismissible\\\" role=\\\"alert\\\">\\n              { message }\\n            </div>\\n          }\\n          <h2 class=\\\"form-signin-heading\\\">Please sign in</h2>\\n          <label for=\\\"inputEmail\\\" class=\\\"sr-only\\\">Email address</label>\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"Email address\\\" name=\\\"username\\\" value={username} onChange={this.onChange} required/>\\n          <label for=\\\"inputPassword\\\" class=\\\"sr-only\\\">Password</label>\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" name=\\\"password\\\" value={password} onChange={this.onChange} required/>\\n          <button class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">Login</button>\\n          <p>\\n            Not a member? <Link to=\\\"/register\\\"><span class=\\\"glyphicon glyphicon-plus-sign\\\" aria-hidden=\\\"true\\\"></span> Register here</Link>\\n          </p>\\n        </form>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Login;\\n\",\"import React, { Component } from 'react';\\nimport ReactDOM from 'react-dom';\\nimport axios from 'axios';\\nimport { Link } from 'react-router-dom';\\nimport './Login.css';\\n\\nclass Create extends Component {\\n\\n  constructor() {\\n    super();\\n    this.state = {\\n      username: '',\\n      password: ''\\n    };\\n  }\\n  onChange = (e) => {\\n    const state = this.state\\n    state[e.target.name] = e.target.value;\\n    this.setState(state);\\n  }\\n\\n  onSubmit = (e) => {\\n    e.preventDefault();\\n\\n    const { username, password } = this.state;\\n\\n    axios.post('/api/auth/register', { username, password })\\n      .then((result) => {\\n        this.props.history.push(\\\"/login\\\")\\n      });\\n  }\\n\\n  render() {\\n    const { username, password } = this.state;\\n    return (\\n      <div class=\\\"container\\\">\\n        <form class=\\\"form-signin\\\" onSubmit={this.onSubmit}>\\n          <h2 class=\\\"form-signin-heading\\\">Register</h2>\\n          <label for=\\\"inputEmail\\\" class=\\\"sr-only\\\">Email address</label>\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"Email address\\\" name=\\\"username\\\" value={username} onChange={this.onChange} required/>\\n          <label for=\\\"inputPassword\\\" class=\\\"sr-only\\\">Password</label>\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" name=\\\"password\\\" value={password} onChange={this.onChange} required/>\\n          <button class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">Register</button>\\n        </form>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Create;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\\nimport './index.css';\\nimport App from './App';\\nimport registerServiceWorker from './registerServiceWorker';\\nimport Login from './components/Login';\\nimport Register from './components/Register';\\n\\nReactDOM.render(\\n  <Router>\\n      <div>\\n        <Route exact path='/' component={App} />\\n        <Route path='/login' component={Login} />\\n        <Route path='/register' component={Register} />\\n      </div>\\n  </Router>,\\n  document.getElementById('root')\\n);\\nregisterServiceWorker();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){},36:function(e,t,n){e.exports=n(70)},52:function(e,t,n){},70:function(e,t,n){\"use strict\";n.r(t);var a=n(1),o=n.n(a),r=n(13),s=n.n(r),l=n(6),i=(n(51),n(52),n(8)),c=n(9),u=n(11),m=n(10),d=n(12),h=n(7),p=n.n(h),g=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).logout=function(){localStorage.removeItem(\"jwtToken\"),window.location.reload()},n.state={books:[]},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:\"componentDidMount\",value:function(){var e=this;p.a.defaults.headers.common.Authorization=localStorage.getItem(\"jwtToken\"),p.a.get(\"/api/book\").then(function(t){e.setState({books:t.data}),console.log(e.state.books)}).catch(function(t){401===t.response.status&&e.props.history.push(\"/login\")})}},{key:\"render\",value:function(){return o.a.createElement(\"div\",{class:\"container\"},o.a.createElement(\"div\",{class:\"panel panel-default\"},o.a.createElement(\"div\",{class:\"panel-heading\"},o.a.createElement(\"h3\",{class:\"panel-title\"},\"BOOK CATALOG \\xa0\",localStorage.getItem(\"jwtToken\")&&o.a.createElement(\"button\",{class:\"btn btn-primary\",onClick:this.logout},\"Logout\"))),o.a.createElement(\"div\",{class:\"panel-body\"},o.a.createElement(\"table\",{class:\"table table-stripe\"},o.a.createElement(\"thead\",null,o.a.createElement(\"tr\",null,o.a.createElement(\"th\",null,\"ISBN\"),o.a.createElement(\"th\",null,\"Title\"),o.a.createElement(\"th\",null,\"Author\"))),o.a.createElement(\"tbody\",null,this.state.books.map(function(e){return o.a.createElement(\"tr\",null,o.a.createElement(\"td\",null,o.a.createElement(l.b,{to:\"/show/\".concat(e._id)},e.isbn)),o.a.createElement(\"td\",null,e.title),o.a.createElement(\"td\",null,e.author))}))))))}}]),t}(a.Component),f=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?console.log(\"New content is available; please refresh.\"):console.log(\"Content is cached for offline use.\"))}}}).catch(function(e){console.error(\"Error during service worker registration:\",e)})}n(30);var w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var n=e.state;n[t.target.name]=t.target.value,e.setState(n)},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,o=n.password;p.a.post(\"/api/auth/login\",{username:a,password:o}).then(function(t){localStorage.setItem(\"jwtToken\",t.data.token),e.setState({message:\"\"}),e.props.history.push(\"/\")}).catch(function(t){401===t.response.status&&e.setState({message:\"Login failed. Username or password not match\"})})},e.state={username:\"\",password:\"\",message:\"\"},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){var e=this.state,t=e.username,n=e.password,a=e.message;return o.a.createElement(\"div\",{class:\"container\"},o.a.createElement(\"form\",{class:\"form-signin\",onSubmit:this.onSubmit},\"\"!==a&&o.a.createElement(\"div\",{class:\"alert alert-warning alert-dismissible\",role:\"alert\"},a),o.a.createElement(\"h2\",{class:\"form-signin-heading\"},\"Please sign in\"),o.a.createElement(\"label\",{for:\"inputEmail\",class:\"sr-only\"},\"Email address\"),o.a.createElement(\"input\",{type:\"email\",class:\"form-control\",placeholder:\"Email address\",name:\"username\",value:t,onChange:this.onChange,required:!0}),o.a.createElement(\"label\",{for:\"inputPassword\",class:\"sr-only\"},\"Password\"),o.a.createElement(\"input\",{type:\"password\",class:\"form-control\",placeholder:\"Password\",name:\"password\",value:n,onChange:this.onChange,required:!0}),o.a.createElement(\"button\",{class:\"btn btn-lg btn-primary btn-block\",type:\"submit\"},\"Login\"),o.a.createElement(\"p\",null,\"Not a member? \",o.a.createElement(l.b,{to:\"/register\"},o.a.createElement(\"span\",{class:\"glyphicon glyphicon-plus-sign\",\"aria-hidden\":\"true\"}),\" Register here\"))))}}]),t}(a.Component),v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var n=e.state;n[t.target.name]=t.target.value,e.setState(n)},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,o=n.password;p.a.post(\"/api/auth/register\",{username:a,password:o}).then(function(t){e.props.history.push(\"/login\")})},e.state={username:\"\",password:\"\"},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){var e=this.state,t=e.username,n=e.password;return o.a.createElement(\"div\",{class:\"container\"},o.a.createElement(\"form\",{class:\"form-signin\",onSubmit:this.onSubmit},o.a.createElement(\"h2\",{class:\"form-signin-heading\"},\"Register\"),o.a.createElement(\"label\",{for:\"inputEmail\",class:\"sr-only\"},\"Email address\"),o.a.createElement(\"input\",{type:\"email\",class:\"form-control\",placeholder:\"Email address\",name:\"username\",value:t,onChange:this.onChange,required:!0}),o.a.createElement(\"label\",{for:\"inputPassword\",class:\"sr-only\"},\"Password\"),o.a.createElement(\"input\",{type:\"password\",class:\"form-control\",placeholder:\"Password\",name:\"password\",value:n,onChange:this.onChange,required:!0}),o.a.createElement(\"button\",{class:\"btn btn-lg btn-primary btn-block\",type:\"submit\"},\"Register\")))}}]),t}(a.Component);s.a.render(o.a.createElement(l.a,null,o.a.createElement(\"div\",null,o.a.createElement(l.c,{exact:!0,path:\"/\",component:g}),o.a.createElement(l.c,{path:\"/login\",component:w}),o.a.createElement(l.c,{path:\"/register\",component:v}))),document.getElementById(\"root\")),function(){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location).origin!==window.location.origin)return;window.addEventListener(\"load\",function(){var e=\"\".concat(\"\",\"/service-worker.js\");f?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get(\"content-type\").indexOf(\"javascript\")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e)}).catch(function(){console.log(\"No internet connection found. App is running in offline mode.\")})}(e),navigator.serviceWorker.ready.then(function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ\")})):b(e)}),window.addEventListener(\"fetch\",function(e){if(e.request.url.match(\"^.*(/api/).*$\"))return!1})}}()}},[[36,1,2]]]);","extractedComments":[]}